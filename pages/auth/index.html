<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary SEO Title -->
    <title>RelayTalk - Create Account</title>
    
    <!-- Meta Descriptions -->
    <meta name="description" content="RelayTalk - Create Account">
    <meta name="keywords" content="RelayTalk, create account">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="RelayTalk - Create Account">
    <meta property="og:description" content="RelayTalk - Create Account">
    <meta property="og:url" content="https://relaytalk.github.io/pages/auth/">
    <meta property="og:image" content="https://relaytalk.github.io/relay.png">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="RelayTalk - Create Account">
    <meta name="twitter:description" content="RelayTalk - Create Account">
    <meta name="twitter:image" content="https://relaytalk.github.io/relay.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://relaytalk.github.io/pages/auth/">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "RelayTalk - Create Account",
      "description": "RelayTalk - Create Account",
      "url": "https://relaytalk.github.io/pages/auth/"
    }
    </script>

    <!-- Global CSS -->
    <link rel="stylesheet" href="../../style.css">

    <!-- Page CSS (moved from <style>) -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Simple Header -->
    <div class="simple-header">
        <div class="simple-logo">‚ú®Relay</div>
    </div>

    <!-- Auth Container -->
    <div class="auth-container">
        <div class="auth-header">
            <div class="auth-logo">‚ú®</div>
            <h1 class="auth-title">Join Relay</h1>
            <p class="auth-subtitle">Create your account to connect with friends</p>
        </div>

        <form class="auth-form" id="signupForm" onsubmit="handleSignup(event)">
            <!-- Username -->
            <div class="form-group">
                <label class="form-label" for="username">
                    <span class="form-label-icon">üë§</span>
                    Username
                </label>
                <input type="text" id="username" class="form-input"
                       placeholder="e.g., alex_john" required
                       minlength="3" maxlength="20">
                <div class="error-message" id="usernameError"></div>
            </div>

            <!-- Password -->
            <div class="form-group">
                <label class="form-label" for="password">
                    <span class="form-label-icon">üîí</span>
                    Password
                </label>
                <div class="password-input">
                    <input type="password" id="password" class="form-input"
                           placeholder="Create a strong password" required minlength="6">
                    <button type="button" class="password-toggle" onclick="togglePassword()">üëÅÔ∏è</button>
                </div>
                <div class="error-message" id="passwordError"></div>
            </div>

            <!-- Confirm Password -->
            <div class="form-group">
                <label class="form-label" for="confirmPassword">
                    <span class="form-label-icon">‚úÖ</span>
                    Confirm Password
                </label>
                <input type="password" id="confirmPassword" class="form-input" 
                       placeholder="Re-enter your password" required>
                <div class="error-message" id="confirmError"></div>
            </div>

            <!-- Terms -->
            <div class="terms-container">
                <div class="terms-checkbox">
                    <input type="checkbox" id="terms" required>
                    <label for="terms">
                        I agree to the Terms & Conditions and Privacy Policy
                    </label>
                </div>

                <div class="terms-buttons">
                    <button type="button" class="terms-btn" onclick="showTerms()">
                        üìÑ Terms & Conditions
                    </button>
                    <button type="button" class="terms-btn" onclick="showPrivacy()">
                        üîí Privacy Policy
                    </button>
                </div>
            </div>

            <button type="submit" class="btn-primary auth-btn" id="submitBtn">
                Create Account
            </button>
        </form>

        <div class="success-container" id="successContainer" style="display:none;"></div>
    </div>

    <!-- Terms Modal -->
    <div class="modal-overlay" id="termsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üìÑ Terms & Conditions</h2>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <h3>Welcome to Relay!</h3>
                <p>By creating an account, you agree to these simple terms:</p>

                <h3>Your Account</h3>
                <ul>
                    <li>You must be at least 13 years old to use Relay</li>
                    <li>Your username must be unique and appropriate</li>
                    <li>You are responsible for keeping your password secure</li>
                </ul>

                <h3>Messaging Rules</h3>
                <ul>
                    <li>Be respectful to all users</li>
                    <li>No harassment, bullying, or hate speech</li>
                    <li>No spam or unsolicited messages</li>
                    <li>Respect others' privacy</li>
                </ul>

                <div class="security-note">
                    <strong>‚ö†Ô∏è Important Security Notice:</strong>
                    <p>Your password cannot be recovered if forgotten. We don't store passwords in a way that allows recovery. Please write it down securely.</p>
                </div>

                <h3>Relay's Promise</h3>
                <p>We provide a secure, simple messaging platform for everyone to connect safely.</p>

                <p><em>Last updated: December 2024 | App Version: 1.0</em></p>
            </div>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div class="modal-overlay" id="privacyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üîí Privacy Policy</h2>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <h3>Your Privacy Matters</h3>
                <p>At Relay, we believe in simple, transparent privacy.</p>

                <h3>What We Store</h3>
                <ul>
                    <li><strong>Username:</strong> Your chosen display name</li>
                    <li><strong>Profile Information:</strong> Basic account details</li>
                    <li><strong>Messages:</strong> Only between you and recipients</li>
                </ul>

                <h3>What We Don't Store</h3>
                <ul>
                    <li>‚ùå Email addresses</li>
                    <li>‚ùå Phone numbers</li>
                    <li>‚ùå Location data</li>
                    <li>‚ùå Contact lists</li>
                </ul>

                <h3>Your Data is Yours</h3>
                <ul>
                    <li>Messages are stored only as long as needed</li>
                    <li>We don't sell your data to anyone</li>
                    <li>We don't show ads</li>
                    <li>üîí All data is currently stored locally in your browser for testing. When we connect Supabase, it will be encrypted and secured in the cloud.</li>
                </ul>

                <div class="security-note">
                    <strong>üîê Security First:</strong>
                    <p>Relay is built with security in mind. Created by RelayChat to provide safe, private messaging for everyone.</p>
                </div>

                <h3>Contact</h3>
                <p>Questions? We're here to help make Relay safe for you.</p>

                <p><em>Privacy is not a feature ‚Äì it's our foundation.</em></p>
            </div>
        </div>
    </div>

    <!-- JS (moved from <script>) -->
    <script type="module" src="script.js"></script>
<!-- Add this to home/index.html, chats/index.html, etc. -->
<script src="/utils/sw-manager.js"></script>
</body>
</html>